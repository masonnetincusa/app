<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Flappy Bird Minimal</title>
  <style>
    html, body { margin:0; padding:0; height:100%; overflow:hidden; background:#222; }
    #gameCanvas { display:block; background:#88c; }
    #menuOverlay, #gameOverOverlay {
      position:absolute; top:0; left:0; width:100%; height:100%;
      background:rgba(0,0,0,0.85); color:#fff;
      display:flex; flex-direction:column; align-items:center; justify-content:center;
      font-family:Arial,sans-serif; z-index:10;
    }
    .hidden { display:none; }
    button { padding:10px 20px; margin:10px; font-size:16px; }
    #scoreDisplay, #finalScore { font-size:24px; margin:10px; }
  </style>
</head>
<body>
  <canvas id="gameCanvas"></canvas>
  <div id="menuOverlay">
    <h1>Flappy Bird</h1>
    <button id="startBtn">Start</button>
  </div>
  <div id="gameOverOverlay" class="hidden">
    <h1>Game Over</h1>
    <div>Your Score: <span id="finalScore">0</span></div>
    <button id="restartBtn">Restart</button>
  </div>

  <script>
    // Full-screen canvas
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    function resize() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    // Game variables
    let bird, pipes, score, gameLoopId;

    function initGame() {
      // Bird: { x, y, vy }
      bird = { x:50, y:canvas.height/2, vy:0 };
      pipes = [];
      score = 0;
    }

    // Draw functions
    function drawBird() {
      ctx.fillStyle = 'yellow';
      ctx.fillRect(bird.x, bird.y, 30, 30);
    }
    function drawPipes() {
      ctx.fillStyle = 'green';
      for (let p of pipes) {
        ctx.fillRect(p.x, 0, p.w, p.h);
        ctx.fillRect(p.x, p.h + p.gap, p.w, canvas.height - p.h - p.gap);
      }
    }
    function drawScore() {
      ctx.fillStyle = '#000';
      ctx.font = '24px Arial';
      ctx.fillText('Score: ' + score, 10, 30);
    }

    // Update
    function update() {
      // bird physics
      bird.vy += 0.5; bird.y += bird.vy;
      if (bird.y < 0) bird.y = 0;
      if (bird.y + 30 > canvas.height) return endGame();

      // pipes
      if (pipes.length === 0 || pipes[pipes.length-1].x < canvas.width - 200) {
        let h = Math.random()*(canvas.height/2) + 20;
        pipes.push({ x:canvas.width, w:60, h, gap:150, passed: false });
      }
      for (let p of pipes) p.x -= 2;

      // collision & score
      for (let p of pipes) {
        if (!p.passed && bird.x > p.x + p.w) { p.passed = true; score++; }
        // collision
        if (bird.x < p.x + p.w && bird.x + 30 > p.x &&
            (bird.y < p.h || bird.y + 30 > p.h + p.gap)) {
          return endGame();
        }
      }
      // remove off-screen
      pipes = pipes.filter(p => p.x + p.w > 0);

      // render
      ctx.clearRect(0,0,canvas.width,canvas.height);
      drawBird(); drawPipes(); drawScore();
    }

    function startGame() {
      document.getElementById('menuOverlay').classList.add('hidden');
      initGame();
      gameLoopId = setInterval(update, 20);
    }
    function endGame() {
      clearInterval(gameLoopId);
      document.getElementById('finalScore').innerText = score;
      document.getElementById('gameOverOverlay').classList.remove('hidden');
    }
    function restartGame() {
      document.getElementById('gameOverOverlay').classList.add('hidden');
      startGame();
    }

    // Controls
    window.addEventListener('keydown', e => {
      if (e.code === 'Space') {
        bird.vy = -8;
      }
    });
    window.addEventListener('touchstart', e => {
      bird.vy = -8;
      e.preventDefault();
    });

    // Buttons
    document.getElementById('startBtn').onclick = startGame;
    document.getElementById('restartBtn').onclick = restartGame;
  </script>
</body>
</html>
